!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("leaflet"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","leaflet","react","react-dom"],e):e(t.ReactLeaflet={},t.L,t.React,t.ReactDOM)}(this,function(t,e,n,o){"use strict";function r(t){return function(){return t}}function i(t){return null==t?void 0===t?ue:le:pe&&pe in Object(t)?function(t){var e=oe.call(t,ie),n=t[ie];try{t[ie]=void 0;var o=!0}catch(t){}var r=re.call(t);return o&&(e?t[ie]=n:delete t[ie]),r}(t):function(t){return ae.call(t)}(t)}function a(t){return null!=t&&"object"==typeof t}function l(t){return"symbol"==typeof t||a(t)&&i(t)==se}function u(t,e){if(Kt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!l(t))||(fe.test(t)||!ce.test(t)||null!=e&&t in Object(e))}function p(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function s(t){if(!p(t))return!1;var e=i(t);return e==ye||e==de||e==he||e==me}function c(t){if(null!=t){try{return ge.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function f(t){if(!p(t)||function(t){return!!be&&be in t}(t))return!1;return(s(t)?Le:Ee).test(c(t))}function h(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return f(n)?n:void 0}function y(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function d(t,e){return t===e||t!=t&&e!=e}function m(t,e){for(var n=t.length;n--;)if(d(t[n][0],e))return n;return-1}function v(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function b(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function g(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function E(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Se);var n=function(){var o=arguments,r=e?e.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var a=t.apply(this,o);return n.cache=i.set(r,a)||i,a};return n.cache=new(E.Cache||g),n}function O(t,e){for(var n=-1,o=null==t?0:t.length,r=Array(o);++n<o;)r[n]=e(t[n],n,t);return r}function j(t){if("string"==typeof t)return t;if(Kt(t))return O(t,j)+"";if(l(t))return ke?ke.call(t):"";var e=t+"";return"0"==e&&1/t==-We?"-0":e}function _(t){return null==t?"":j(t)}function C(t,e){return Kt(t)?t:u(t,e)?[t]:De(_(t))}function L(t){if("string"==typeof t||l(t))return t;var e=t+"";return"0"==e&&1/t==-Ve?"-0":e}function w(t,e){for(var n=0,o=(e=C(e,t)).length;null!=t&&n<o;)t=t[L(e[n++])];return n&&n==o?t:void 0}function x(t,e,n){"__proto__"==e&&qe?qe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function T(t,e,n){var o=t[e];Fe.call(t,e)&&d(o,n)&&(void 0!==n||e in t)||x(t,e,n)}function P(t,e){return!!(e=null==e?$e:e)&&("number"==typeof t||Ge.test(t))&&t>-1&&t%1==0&&t<e}function A(t,e,n,o){if(!p(t))return t;for(var r=-1,i=(e=C(e,t)).length,a=i-1,l=t;null!=l&&++r<i;){var u=L(e[r]),s=n;if(r!=a){var c=l[u];void 0===(s=o?o(c,u,l):void 0)&&(s=p(c)?c:P(e[r+1])?[]:{})}T(l,u,s),l=l[u]}return t}function z(t,e){return null!=t&&e in Object(t)}function I(t){return a(t)&&i(t)==Ze}function S(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Qe}function M(t,e){return null!=t&&function(t,e,n){for(var o=-1,r=(e=C(e,t)).length,i=!1;++o<r;){var a=L(e[o]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++o!=r?i:!!(r=null==t?0:t.length)&&S(r)&&P(a,r)&&(Kt(t)||Ke(t))}(t,e,z)}function R(t,e){return function(t,e,n){for(var o=-1,r=e.length,i={};++o<r;){var a=e[o],l=w(t,a);n(l,a)&&A(i,C(a,t),l)}return i}(t,e,function(e,n){return M(t,n)})}function U(t,e){for(var n=-1,o=e.length,r=t.length;++n<o;)t[r+n]=e[n];return t}function B(t){return Kt(t)||Ke(t)||!!(Xe&&t&&t[Xe])}function D(t,e,n,o,r){var i=-1,a=t.length;for(n||(n=B),r||(r=[]);++i<a;){var l=t[i];e>0&&n(l)?e>1?D(l,e-1,n,o,r):U(r,l):o||(r[r.length]=l)}return r}function W(t){return(null==t?0:t.length)?D(t,1):[]}function N(t){return t}function k(t){return an(function(t,e,n){return e=tn(void 0===e?t.length-1:e,0),function(){for(var o=arguments,r=-1,i=tn(o.length-e,0),a=Array(i);++r<i;)a[r]=o[e+r];r=-1;for(var l=Array(e+1);++r<e;)l[r]=o[r];return l[e]=n(a),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,l)}}(t,void 0,W),t+"")}function V(t){var e=this.__data__=new v(t);this.size=e.size}function q(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new g;++e<n;)this.add(t[e])}function F(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1}function $(t,e){return t.has(e)}function G(t,e,n,o,r,i){var a=n&sn,l=t.length,u=e.length;if(l!=u&&!(a&&u>l))return!1;var p=i.get(t);if(p&&i.get(e))return p==e;var s=-1,c=!0,f=n&cn?new q:void 0;for(i.set(t,e),i.set(e,t);++s<l;){var h=t[s],y=e[s];if(o)var d=a?o(y,h,s,e,t,i):o(h,y,s,t,e,i);if(void 0!==d){if(d)continue;c=!1;break}if(f){if(!F(e,function(t,e){if(!$(f,e)&&(h===t||r(h,t,n,o,i)))return f.push(e)})){c=!1;break}}else if(h!==y&&!r(h,y,n,o,i)){c=!1;break}}return i.delete(t),i.delete(e),c}function Z(t){var e=-1,n=Array(t.size);return t.forEach(function(t,o){n[++e]=[o,t]}),n}function J(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function H(t,e,n){var o=e(t);return Kt(t)?o:U(o,n(t))}function Y(){return[]}function K(t,e){var n=Kt(t),o=!n&&Ke(t),r=!n&&!o&&Mn(t),i=!n&&!o&&!r&&kn(t),a=n||o||r||i,l=a?function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}(t.length,String):[],u=l.length;for(var p in t)!e&&!Vn.call(t,p)||a&&("length"==p||r&&("offset"==p||"parent"==p)||i&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||P(p,u))||l.push(p);return l}function Q(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||qn)}function X(t,e){return function(n){return t(e(n))}}function tt(t){return null!=t&&S(t.length)&&!s(t)}function et(t){return tt(t)?K(t):function(t){if(!Q(t))return Fn(t);var e=[];for(var n in Object(t))$n.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}function nt(t){return H(t,et,An)}function ot(t,e,n,o,r,i){var a=Kt(t),l=Kt(e),u=a?lo:ro(t),p=l?lo:ro(e),s=(u=u==ao?uo:u)==uo,c=(p=p==ao?uo:p)==uo,f=u==p;if(f&&Mn(t)){if(!Mn(e))return!1;a=!0,s=!1}if(f&&!s)return i||(i=new V),a||kn(t)?G(t,e,n,o,r,i):function(t,e,n,o,r,i,a){switch(n){case Ln:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Cn:return!(t.byteLength!=e.byteLength||!i(new fn(t),new fn(e)));case dn:case mn:case gn:return d(+t,+e);case vn:return t.name==e.name&&t.message==e.message;case En:case jn:return t==e+"";case bn:var l=Z;case On:var u=o&hn;if(l||(l=J),t.size!=e.size&&!u)return!1;var p=a.get(t);if(p)return p==e;o|=yn,a.set(t,e);var s=G(l(t),l(e),o,r,i,a);return a.delete(t),s;case _n:if(xn)return xn.call(t)==xn.call(e)}return!1}(t,e,u,n,o,r,i);if(!(n&io)){var h=s&&po.call(t,"__wrapped__"),y=c&&po.call(e,"__wrapped__");if(h||y){var m=h?t.value():t,v=y?e.value():e;return i||(i=new V),r(m,v,n,o,i)}}return!!f&&(i||(i=new V),function(t,e,n,o,r,i){var a=n&Gn,l=nt(t),u=l.length;if(u!=nt(e).length&&!a)return!1;for(var p=u;p--;){var s=l[p];if(!(a?s in e:Zn.call(e,s)))return!1}var c=i.get(t);if(c&&i.get(e))return c==e;var f=!0;i.set(t,e),i.set(e,t);for(var h=a;++p<u;){var y=t[s=l[p]],d=e[s];if(o)var m=a?o(d,y,s,e,t,i):o(y,d,s,t,e,i);if(!(void 0===m?y===d||r(y,d,n,o,i):m)){f=!1;break}h||(h="constructor"==s)}if(f&&!h){var v=t.constructor,b=e.constructor;v!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b)&&(f=!1)}return i.delete(t),i.delete(e),f}(t,e,n,o,r,i))}function rt(t,e,n,o,r){return t===e||(null==t||null==e||!a(t)&&!a(e)?t!=t&&e!=e:ot(t,e,n,o,rt,r))}function it(t,e){return rt(t,e)}function at(t,e,n,o){var r=-1,i=null==t?0:t.length;for(o&&i&&(n=t[++r]);++r<i;)n=e(n,t[r],r,t);return n}function lt(t){return t==t&&!p(t)}function ut(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function pt(t){var e=function(t){for(var e=et(t),n=e.length;n--;){var o=e[n],r=t[o];e[n]=[o,r,lt(r)]}return e}(t);return 1==e.length&&e[0][2]?ut(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,o){var r=n.length,i=r,a=!o;if(null==t)return!i;for(t=Object(t);r--;){var l=n[r];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++r<i;){var u=(l=n[r])[0],p=t[u],s=l[1];if(a&&l[2]){if(void 0===p&&!(u in t))return!1}else{var c=new V;if(o)var f=o(p,s,u,t,e,c);if(!(void 0===f?rt(s,p,fo|ho,o,c):f))return!1}}return!0}(n,t,e)}}function st(t,e){return u(t)&&lt(e)?ut(L(t),e):function(n){var o=function(t,e,n){var o=null==t?void 0:w(t,e);return void 0===o?n:o}(n,t);return void 0===o&&o===e?M(n,t):rt(e,o,yo|mo)}}function ct(t){return u(t)?function(t){return function(e){return null==e?void 0:e[t]}}(L(t)):function(t){return function(e){return w(e,t)}}(t)}function ft(t,e,n){var o=Kt(t)?at:function(t,e,n,o,r){return r(t,function(t,r,i){n=o?(o=!1,t):e(n,t,r,i)}),n},r=arguments.length<3;return o(t,function(t){return"function"==typeof t?t:null==t?N:"object"==typeof t?Kt(t)?st(t[0],t[1]):pt(t):ct(t)}(e),n,r,co)}function ht(t,e){for(var n=-1,o=null==t?0:t.length;++n<o&&!1!==e(t[n],n,t););return t}function yt(t,e){return(Kt(t)?ht:co)(t,function(t){return"function"==typeof t?t:N}(e))}function dt(t,e,n,o){var r=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var l=e[i],u=o?o(n[l],t[l],l,n,t):void 0;void 0===u&&(u=t[l]),r?x(n,l,u):T(n,l,u)}return n}function mt(t){if(!p(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Q(t),n=[];for(var o in t)("constructor"!=o||!e&&vo.call(t,o))&&n.push(o);return n}function vt(t){return tt(t)?K(t,!0):mt(t)}function bt(t){return H(t,vt,_o)}function gt(t){var e=new t.constructor(t.byteLength);return new fn(e).set(new fn(t)),e}function Et(t,e){return t.set(e[0],e[1]),t}function Ot(t,e){return t.add(e),t}function jt(t,e,n,o){var r=t.constructor;switch(e){case Do:return gt(t);case Ao:case zo:return new r(+t);case Wo:return function(t,e){var n=e?gt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,o);case No:case ko:case Vo:case qo:case Fo:case $o:case Go:case Zo:case Jo:return function(t,e){var n=e?gt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,o);case Io:return function(t,e,n){return at(e?n(Z(t),Lo):Z(t),Et,new t.constructor)}(t,o,n);case So:case Uo:return new r(t);case Mo:return function(t){var e=new t.constructor(t.source,wo.exec(t));return e.lastIndex=t.lastIndex,e}(t);case Ro:return function(t,e,n){return at(e?n(J(t),xo):J(t),Ot,new t.constructor)}(t,o,n);case Bo:return function(t){return Po?Object(Po.call(t)):{}}(t)}}function _t(t,e,n,o,r,i){var a,l=e&Ko,u=e&Qo,s=e&Xo;if(n&&(a=r?n(t,o,r,i):n(t)),void 0!==a)return a;if(!p(t))return t;var c=Kt(t);if(c){if(a=function(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&Co.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!l)return function(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e}(t,a)}else{var f=ro(t),h=f==er||f==nr;if(Mn(t))return function(t,e){if(e)return t.slice();var n=t.length,o=Oo?Oo(n):new t.constructor(n);return t.copy(o),o}(t,l);if(f==or||f==tr||h&&!r){if(a=u||h?{}:function(t){return"function"!=typeof t.constructor||Q(t)?{}:Yo(jo(t))}(t),!l)return u?function(t,e){return dt(t,_o(t),e)}(t,function(t,e){return t&&dt(e,vt(e),t)}(a,t)):function(t,e){return dt(t,An(t),e)}(t,function(t,e){return t&&dt(e,et(e),t)}(a,t))}else{if(!rr[f])return r?t:{};a=jt(t,f,_t,l)}}i||(i=new V);var y=i.get(t);if(y)return y;i.set(t,a);var d=s?u?bt:nt:u?keysIn:et,m=c?void 0:d(t);return ht(m||t,function(o,r){m&&(o=t[r=o]),T(a,r,_t(o,e,n,r,t,i))}),a}function Ct(t,e){return e.length<2?t:w(t,function(t,e,n){var o=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(r);++o<r;)i[o]=t[o+e];return i}(e,0,-1))}function Lt(t,e){return e=C(e,t),null==(t=Ct(t,e))||delete t[L(function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}(e))]}function wt(t){return function(t){if(!a(t)||i(t)!=Cr)return!1;var e=jo(t);if(null===e)return!0;var n=Tr.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&xr.call(n)==Pr}(t)?void 0:t}var xt="default"in n?n.default:n,Tt=function(){};Tt.thatReturns=r,Tt.thatReturnsFalse=r(!1),Tt.thatReturnsTrue=r(!0),Tt.thatReturnsNull=r(null),Tt.thatReturnsThis=function(){return this},Tt.thatReturnsArgument=function(t){return t};var Pt=Tt,At=function(t,e,n,o,r,i,a,l){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,o,r,i,a,l],s=0;(u=new Error(e.replace(/%s/g,function(){return p[s++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}},zt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",It=function(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t){t.exports=function(){function t(t,e,n,o,r,i){i!==zt&&At(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=Pt,n.PropTypes=n,n}()}),St=It.oneOfType([It.arrayOf(It.number),It.shape({lat:It.number,lng:It.number}),It.shape({lat:It.number,lon:It.number})]),Mt=It.arrayOf(St),Rt=It.oneOfType([It.instanceOf(e.LatLngBounds),Mt]),Ut=It.oneOfType([It.arrayOf(It.node),It.node]),Bt=It.oneOf(["topleft","topright","bottomleft","bottomright"]),Dt=It.object,Wt=It.shape({addLayer:It.func.isRequired,removeLayer:It.func.isRequired}),Nt=It.instanceOf(e.Map),kt=It.shape({center:St,zoom:It.number}),Vt=Object.freeze({bounds:Rt,children:Ut,controlPosition:Bt,latlng:St,latlngList:Mt,layer:Dt,layerContainer:Wt,map:Nt,viewport:kt}),qt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ft=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),$t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Gt=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Zt=function(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},Jt=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Ht=function(t){function e(){return qt(this,e),Jt(this,t.apply(this,arguments))}return Gt(e,t),e.prototype.createLeafletElement=function(t){throw new Error("createLeafletElement() must be implemented")},e.prototype.updateLeafletElement=function(t,e){e.position!==t.position&&this.leafletElement.setPosition(e.position)},e.prototype.componentWillMount=function(){this.leafletElement=this.createLeafletElement(this.props)},e.prototype.componentDidMount=function(){this.leafletElement.addTo(this.context.map)},e.prototype.componentDidUpdate=function(t){this.updateLeafletElement(t,this.props)},e.prototype.componentWillUnmount=function(){this.leafletElement.remove()},e.prototype.render=function(){return null},e}(n.Component);Ht.propTypes={position:Bt},Ht.contextTypes={map:Nt};var Yt=function(t){function n(){return qt(this,n),Jt(this,t.apply(this,arguments))}return Gt(n,t),n.prototype.createLeafletElement=function(t){return new e.Control.Attribution(t)},n}(Ht);Yt.propTypes={position:Bt,prefix:It.string};var Kt=Array.isArray,Qt="object"==typeof global&&global&&global.Object===Object&&global,Xt="object"==typeof self&&self&&self.Object===Object&&self,te=Qt||Xt||Function("return this")(),ee=te.Symbol,ne=Object.prototype,oe=ne.hasOwnProperty,re=ne.toString,ie=ee?ee.toStringTag:void 0,ae=Object.prototype.toString,le="[object Null]",ue="[object Undefined]",pe=ee?ee.toStringTag:void 0,se="[object Symbol]",ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fe=/^\w*$/,he="[object AsyncFunction]",ye="[object Function]",de="[object GeneratorFunction]",me="[object Proxy]",ve=te["__core-js_shared__"],be=function(){var t=/[^.]+$/.exec(ve&&ve.keys&&ve.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ge=Function.prototype.toString,Ee=/^\[object .+?Constructor\]$/,Oe=Function.prototype,je=Object.prototype,_e=Oe.toString,Ce=je.hasOwnProperty,Le=RegExp("^"+_e.call(Ce).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),we=h(Object,"create"),xe="__lodash_hash_undefined__",Te=Object.prototype.hasOwnProperty,Pe=Object.prototype.hasOwnProperty,Ae="__lodash_hash_undefined__";y.prototype.clear=function(){this.__data__=we?we(null):{},this.size=0},y.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},y.prototype.get=function(t){var e=this.__data__;if(we){var n=e[t];return n===xe?void 0:n}return Te.call(e,t)?e[t]:void 0},y.prototype.has=function(t){var e=this.__data__;return we?void 0!==e[t]:Pe.call(e,t)},y.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=we&&void 0===e?Ae:e,this};var ze=Array.prototype.splice;v.prototype.clear=function(){this.__data__=[],this.size=0},v.prototype.delete=function(t){var e=this.__data__,n=m(e,t);return!(n<0||(n==e.length-1?e.pop():ze.call(e,n,1),--this.size,0))},v.prototype.get=function(t){var e=this.__data__,n=m(e,t);return n<0?void 0:e[n][1]},v.prototype.has=function(t){return m(this.__data__,t)>-1},v.prototype.set=function(t,e){var n=this.__data__,o=m(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this};var Ie=h(te,"Map");g.prototype.clear=function(){this.size=0,this.__data__={hash:new y,map:new(Ie||v),string:new y}},g.prototype.delete=function(t){var e=b(this,t).delete(t);return this.size-=e?1:0,e},g.prototype.get=function(t){return b(this,t).get(t)},g.prototype.has=function(t){return b(this,t).has(t)},g.prototype.set=function(t,e){var n=b(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this};var Se="Expected a function";E.Cache=g;var Me=500,Re=/^\./,Ue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Be=/\\(\\)?/g,De=function(t){var e=E(t,function(t){return n.size===Me&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return Re.test(t)&&e.push(""),t.replace(Ue,function(t,n,o,r){e.push(o?r.replace(Be,"$1"):n||t)}),e}),We=1/0,Ne=ee?ee.prototype:void 0,ke=Ne?Ne.toString:void 0,Ve=1/0,qe=function(){try{var t=h(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Fe=Object.prototype.hasOwnProperty,$e=9007199254740991,Ge=/^(?:0|[1-9]\d*)$/,Ze="[object Arguments]",Je=Object.prototype,He=Je.hasOwnProperty,Ye=Je.propertyIsEnumerable,Ke=I(function(){return arguments}())?I:function(t){return a(t)&&He.call(t,"callee")&&!Ye.call(t,"callee")},Qe=9007199254740991,Xe=ee?ee.isConcatSpreadable:void 0,tn=Math.max,en=qe?function(t,e){return qe(t,"toString",{configurable:!0,enumerable:!1,value:function(t){return function(){return t}}(e),writable:!0})}:N,nn=800,on=16,rn=Date.now,an=function(t){var e=0,n=0;return function(){var o=rn(),r=on-(o-n);if(n=o,r>0){if(++e>=nn)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(en),ln=k(function(t,e){return null==t?{}:R(t,e)}),un=200;V.prototype.clear=function(){this.__data__=new v,this.size=0},V.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},V.prototype.get=function(t){return this.__data__.get(t)},V.prototype.has=function(t){return this.__data__.has(t)},V.prototype.set=function(t,e){var n=this.__data__;if(n instanceof v){var o=n.__data__;if(!Ie||o.length<un-1)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new g(o)}return n.set(t,e),this.size=n.size,this};var pn="__lodash_hash_undefined__";q.prototype.add=q.prototype.push=function(t){return this.__data__.set(t,pn),this},q.prototype.has=function(t){return this.__data__.has(t)};var sn=1,cn=2,fn=te.Uint8Array,hn=1,yn=2,dn="[object Boolean]",mn="[object Date]",vn="[object Error]",bn="[object Map]",gn="[object Number]",En="[object RegExp]",On="[object Set]",jn="[object String]",_n="[object Symbol]",Cn="[object ArrayBuffer]",Ln="[object DataView]",wn=ee?ee.prototype:void 0,xn=wn?wn.valueOf:void 0,Tn=Object.prototype.propertyIsEnumerable,Pn=Object.getOwnPropertySymbols,An=Pn?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,o=null==t?0:t.length,r=0,i=[];++n<o;){var a=t[n];e(a,n,t)&&(i[r++]=a)}return i}(Pn(t),function(e){return Tn.call(t,e)}))}:Y,zn="object"==typeof t&&t&&!t.nodeType&&t,In=zn&&"object"==typeof module&&module&&!module.nodeType&&module,Sn=In&&In.exports===zn?te.Buffer:void 0,Mn=(Sn?Sn.isBuffer:void 0)||function(){return!1},Rn={};Rn["[object Float32Array]"]=Rn["[object Float64Array]"]=Rn["[object Int8Array]"]=Rn["[object Int16Array]"]=Rn["[object Int32Array]"]=Rn["[object Uint8Array]"]=Rn["[object Uint8ClampedArray]"]=Rn["[object Uint16Array]"]=Rn["[object Uint32Array]"]=!0,Rn["[object Arguments]"]=Rn["[object Array]"]=Rn["[object ArrayBuffer]"]=Rn["[object Boolean]"]=Rn["[object DataView]"]=Rn["[object Date]"]=Rn["[object Error]"]=Rn["[object Function]"]=Rn["[object Map]"]=Rn["[object Number]"]=Rn["[object Object]"]=Rn["[object RegExp]"]=Rn["[object Set]"]=Rn["[object String]"]=Rn["[object WeakMap]"]=!1;var Un="object"==typeof t&&t&&!t.nodeType&&t,Bn=Un&&"object"==typeof module&&module&&!module.nodeType&&module,Dn=Bn&&Bn.exports===Un&&Qt.process,Wn=function(){try{return Dn&&Dn.binding&&Dn.binding("util")}catch(t){}}(),Nn=Wn&&Wn.isTypedArray,kn=Nn?function(t){return function(e){return t(e)}}(Nn):function(t){return a(t)&&S(t.length)&&!!Rn[i(t)]},Vn=Object.prototype.hasOwnProperty,qn=Object.prototype,Fn=X(Object.keys,Object),$n=Object.prototype.hasOwnProperty,Gn=1,Zn=Object.prototype.hasOwnProperty,Jn=h(te,"DataView"),Hn=h(te,"Promise"),Yn=h(te,"Set"),Kn=h(te,"WeakMap"),Qn=c(Jn),Xn=c(Ie),to=c(Hn),eo=c(Yn),no=c(Kn),oo=i;(Jn&&"[object DataView]"!=oo(new Jn(new ArrayBuffer(1)))||Ie&&"[object Map]"!=oo(new Ie)||Hn&&"[object Promise]"!=oo(Hn.resolve())||Yn&&"[object Set]"!=oo(new Yn)||Kn&&"[object WeakMap]"!=oo(new Kn))&&(oo=function(t){var e=i(t),n="[object Object]"==e?t.constructor:void 0,o=n?c(n):"";if(o)switch(o){case Qn:return"[object DataView]";case Xn:return"[object Map]";case to:return"[object Promise]";case eo:return"[object Set]";case no:return"[object WeakMap]"}return e});var ro=oo,io=1,ao="[object Arguments]",lo="[object Array]",uo="[object Object]",po=Object.prototype.hasOwnProperty,so=function(t){return function(e,n,o){for(var r=-1,i=Object(e),a=o(e),l=a.length;l--;){var u=a[t?l:++r];if(!1===n(i[u],u,i))break}return e}}(),co=function(t,e){return function(n,o){if(null==n)return n;if(!tt(n))return t(n,o);for(var r=n.length,i=e?r:-1,a=Object(n);(e?i--:++i<r)&&!1!==o(a[i],i,a););return n}}(function(t,e){return t&&so(t,e,et)}),fo=1,ho=2,yo=1,mo=2,vo=Object.prototype.hasOwnProperty,bo="object"==typeof t&&t&&!t.nodeType&&t,go=bo&&"object"==typeof module&&module&&!module.nodeType&&module,Eo=go&&go.exports===bo?te.Buffer:void 0,Oo=Eo?Eo.allocUnsafe:void 0,jo=X(Object.getPrototypeOf,Object),_o=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)U(e,An(t)),t=jo(t);return e}:Y,Co=Object.prototype.hasOwnProperty,Lo=1,wo=/\w*$/,xo=1,To=ee?ee.prototype:void 0,Po=To?To.valueOf:void 0,Ao="[object Boolean]",zo="[object Date]",Io="[object Map]",So="[object Number]",Mo="[object RegExp]",Ro="[object Set]",Uo="[object String]",Bo="[object Symbol]",Do="[object ArrayBuffer]",Wo="[object DataView]",No="[object Float32Array]",ko="[object Float64Array]",Vo="[object Int8Array]",qo="[object Int16Array]",Fo="[object Int32Array]",$o="[object Uint8Array]",Go="[object Uint8ClampedArray]",Zo="[object Uint16Array]",Jo="[object Uint32Array]",Ho=Object.create,Yo=function(){function t(){}return function(e){if(!p(e))return{};if(Ho)return Ho(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Ko=1,Qo=2,Xo=4,tr="[object Arguments]",er="[object Function]",nr="[object GeneratorFunction]",or="[object Object]",rr={};rr[tr]=rr["[object Array]"]=rr["[object ArrayBuffer]"]=rr["[object DataView]"]=rr["[object Boolean]"]=rr["[object Date]"]=rr["[object Float32Array]"]=rr["[object Float64Array]"]=rr["[object Int8Array]"]=rr["[object Int16Array]"]=rr["[object Int32Array]"]=rr["[object Map]"]=rr["[object Number]"]=rr[or]=rr["[object RegExp]"]=rr["[object Set]"]=rr["[object String]"]=rr["[object Symbol]"]=rr["[object Uint8Array]"]=rr["[object Uint8ClampedArray]"]=rr["[object Uint16Array]"]=rr["[object Uint32Array]"]=!0,rr["[object Error]"]=rr[er]=rr["[object WeakMap]"]=!1;var ir=4,ar=/^on(.+)$/i,lr=function(t){function e(n,o){qt(this,e);var r=Jt(this,t.call(this,n,o));return r._leafletEvents={},r}return Gt(e,t),e.prototype.componentWillMount=function(){this._leafletEvents=this.extractLeafletEvents(this.props)},e.prototype.componentDidMount=function(){this.bindLeafletEvents(this._leafletEvents)},e.prototype.componentWillReceiveProps=function(t){var e=this.extractLeafletEvents(t);this._leafletEvents=this.bindLeafletEvents(e,this._leafletEvents)},e.prototype.componentWillUnmount=function(){var t=this.leafletElement;t&&yt(this._leafletEvents,function(e,n){t.off(n,e)})},e.prototype.extractLeafletEvents=function(t){return ft(et(t),function(e,n){if(ar.test(n)){var o=n.replace(ar,function(t,e){return e.toLowerCase()});null!=t[n]&&(e[o]=t[n])}return e},{})},e.prototype.bindLeafletEvents=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.leafletElement;if(null==n||null==n.on)return{};var o=function(t){return _t(t,ir)}(e);return yt(e,function(e,r){t[r]&&e===t[r]||(delete o[r],n.off(r,e))}),yt(t,function(t,r){e[r]&&t===e[r]||(o[r]=t,n.on(r,t))}),o},e.prototype.fireLeafletEvent=function(t,e){var n=this.leafletElement;n&&n.fire(t,e)},e.prototype.getOptions=function(t){var e=null==t.pane?this.context.pane:t.pane;return e?$t({},t,{pane:e}):t},e}(n.Component),ur=function(t){function e(){return qt(this,e),Jt(this,t.apply(this,arguments))}return Gt(e,t),e.prototype.createLeafletElement=function(t){throw new Error("createLeafletElement() must be implemented")},e.prototype.updateLeafletElement=function(t,e){},e.prototype.componentWillMount=function(){t.prototype.componentWillMount.call(this),this.leafletElement=this.createLeafletElement(this.props)},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.layerContainer.addLayer(this.leafletElement)},e.prototype.componentDidUpdate=function(t){this.updateLeafletElement(t,this.props)},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.layerContainer.removeLayer(this.leafletElement)},e.prototype.render=function(){var t=this.props.children;return n.Children.count(t)>1?xt.createElement("div",{style:{display:"none"}},t):null==t?null:t},Ft(e,[{key:"layerContainer",get:function(){return this.context.layerContainer||this.context.map}}]),e}(lr);ur.propTypes={children:Ut},ur.contextTypes={layerContainer:Wt,map:Nt,pane:It.string};var pr=["stroke","color","weight","opacity","lineCap","lineJoin","dashArray","dashOffset","fill","fillColor","fillOpacity","fillRule","bubblingMouseEvents","renderer","className","interactive","pane","attribution"],sr=function(t){function e(){return qt(this,e),Jt(this,t.apply(this,arguments))}return Gt(e,t),e.prototype.componentDidUpdate=function(e){t.prototype.componentDidUpdate.call(this,e),this.setStyleIfChanged(e,this.props)},e.prototype.getChildContext=function(){return{popupContainer:this.leafletElement}},e.prototype.getPathOptions=function(t){return ln(t,pr)},e.prototype.setStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.leafletElement.setStyle(t)},e.prototype.setStyleIfChanged=function(t,e){var n=this.getPathOptions(e);it(n,this.getPathOptions(t))||this.setStyle(n)},e}(ur);sr.childContextTypes={children:Ut,popupContainer:Dt};var cr=function(t){function n(){return qt(this,n),Jt(this,t.apply(this,arguments))}return Gt(n,t),n.prototype.createLeafletElement=function(t){var n=t.center,o=t.radius,r=Zt(t,["center","radius"]);return new e.Circle(n,o,this.getOptions(r))},n.prototype.updateLeafletElement=function(t,e){e.center!==t.center&&this.leafletElement.setLatLng(e.center),e.radius!==t.radius&&this.leafletElement.setRadius(e.radius)},n}(sr);cr.propTypes={center:St.isRequired,children:Ut,radius:It.number.isRequired};var fr=function(t){function n(){return qt(this,n),Jt(this,t.apply(this,arguments))}return Gt(n,t),n.prototype.createLeafletElement=function(t){return new e.CircleMarker(t.center,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){e.center!==t.center&&this.leafletElement.setLatLng(e.center),e.radius!==t.radius&&this.leafletElement.setRadius(e.radius)},n}(sr);fr.propTypes={center:St.isRequired,children:Ut,radius:It.number};var hr=function(t){function n(){return qt(this,n),Jt(this,t.apply(this,arguments))}return Gt(n,t),n.prototype.getChildContext=function(){return{layerContainer:this.leafletElement,popupContainer:this.leafletElement}},n.prototype.createLeafletElement=function(t){return new e.FeatureGroup(this.getOptions(t))},n.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.setStyle(this.props)},n}(sr);hr.childContextTypes={children:Ut,layerContainer:Wt,popupContainer:Dt};var yr=function(t){function n(){return qt(this,n),Jt(this,t.apply(this,arguments))}return Gt(n,t),n.prototype.createLeafletElement=function(t){return new e.GeoJSON(t.data,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){s(e.style)?this.setStyle(e.style):this.setStyleIfChanged(t,e)},n}(sr);yr.propTypes={children:Ut,data:It.oneOfType([It.array,It.object]).isRequired};var dr=function(t){function n(){return qt(this,n),Jt(this,t.apply(this,arguments))}return Gt(n,t),n.prototype.createLeafletElement=function(t){return new e.GridLayer(this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){var n=e.opacity,o=e.zIndex;n!==t.opacity&&this.leafletElement.setOpacity(n),o!==t.zIndex&&this.leafletElement.setZIndex(o)},n.prototype.render=function(){return null},n}(ur);dr.propTypes={children:Ut,opacity:It.number,zIndex:It.number};var mr=function(t){function n(){return qt(this,n),Jt(this,t.apply(this,arguments))}return Gt(n,t),n.prototype.getChildContext=function(){return{popupContainer:this.leafletElement}},n.prototype.createLeafletElement=function(t){return new e.ImageOverlay(t.url,t.bounds,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,n){n.url!==t.url&&this.leafletElement.setUrl(n.url),n.bounds!==t.bounds&&this.leafletElement.setBounds(e.latLngBounds(n.bounds)),n.opacity!==t.opacity&&this.leafletElement.setOpacity(n.opacity),n.zIndex!==t.zIndex&&this.leafletElement.setZIndex(n.zIndex)},n}(ur);mr.propTypes={attribution:It.string,bounds:Rt.isRequired,children:Ut,opacity:It.number,url:It.string.isRequired,zIndex:It.number},mr.childContextTypes={popupContainer:Dt};var vr=function(t){function n(){return qt(this,n),Jt(this,t.apply(this,arguments))}return Gt(n,t),n.prototype.getChildContext=function(){return{layerContainer:this.leafletElement}},n.prototype.createLeafletElement=function(){return new e.LayerGroup(this.getOptions(this.props))},n}(ur);vr.childContextTypes={layerContainer:Wt};var br={checked:It.bool,children:It.node.isRequired,removeLayer:It.func,removeLayerControl:It.func},gr=$t({},br,{addBaseLayer:It.func,addOverlay:It.func,name:It.string.isRequired}),Er=function(t){function e(){return qt(this,e),Jt(this,t.apply(this,arguments))}return Gt(e,t),e.prototype.getChildContext=function(){return{layerContainer:{addLayer:this.addLayer.bind(this),removeLayer:this.removeLayer.bind(this)}}},e.prototype.componentWillReceiveProps=function(t){var e=t.checked;!0!==e||null!=this.props.checked&&!1!==this.props.checked?!0!==this.props.checked||null!=e&&!1!==e||this.context.map.removeLayer(this.layer):this.context.map.addLayer(this.layer)},e.prototype.componentWillUnmount=function(){this.props.removeLayerControl(this.layer)},e.prototype.addLayer=function(){throw new Error("Must be implemented in extending class")},e.prototype.removeLayer=function(t){this.props.removeLayer(t)},e.prototype.render=function(){return this.props.children||null},e}(n.Component);Er.propTypes=br,Er.contextTypes={map:Nt},Er.childContextTypes={layerContainer:Wt};var Or=function(t){function e(){return qt(this,e),Jt(this,t.apply(this,arguments))}return Gt(e,t),e.prototype.addLayer=function(t){this.layer=t;var e=this.props,n=e.addBaseLayer,o=e.checked;n(t,e.name,o)},e}(Er);Or.propTypes=gr;var jr=function(t){function e(){return qt(this,e),Jt(this,t.apply(this,arguments))}return Gt(e,t),e.prototype.addLayer=function(t){this.layer=t;var e=this.props,n=e.addOverlay,o=e.checked;n(t,e.name,o)},e}(Er);jr.propTypes=gr;var _r=function(t){function o(){return qt(this,o),Jt(this,t.apply(this,arguments))}return Gt(o,t),o.prototype.createLeafletElement=function(t){t.children;var n=Zt(t,["children"]);return new e.Control.Layers(void 0,void 0,n)},o.prototype.componentWillMount=function(){t.prototype.componentWillMount.call(this),this.controlProps={addBaseLayer:this.addBaseLayer.bind(this),addOverlay:this.addOverlay.bind(this),removeLayer:this.removeLayer.bind(this),removeLayerControl:this.removeLayerControl.bind(this)}},o.prototype.componentWillUnmount=function(){var e=this;setTimeout(function(){t.prototype.componentWillUnmount.call(e)},0)},o.prototype.addBaseLayer=function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this.context.map.addLayer(t),this.leafletElement.addBaseLayer(t,e)},o.prototype.addOverlay=function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this.context.map.addLayer(t),this.leafletElement.addOverlay(t,e)},o.prototype.removeLayer=function(t){this.context.map.removeLayer(t)},o.prototype.removeLayerControl=function(t){this.leafletElement.removeLayer(t)},o.prototype.render=function(){var t=this,e=n.Children.map(this.props.children,function(e){return e?n.cloneElement(e,t.controlProps):null});return xt.createElement("div",{style:{display:"none"}},e)},o}(Ht);_r.propTypes={baseLayers:It.object,children:Ut,overlays:It.object,position:Bt},_r.contextTypes={layerContainer:Wt,map:Nt},_r.BaseLayer=Or,_r.Overlay=jr;var Cr="[object Object]",Lr=Function.prototype,wr=Object.prototype,xr=Lr.toString,Tr=wr.hasOwnProperty,Pr=xr.call(Object),Ar=k(function(t,e){var n={};if(null==t)return n;var o=!1;e=O(e,function(e){return e=C(e,t),o||(o=e.length>1),e}),dt(t,bt(t),n),o&&(n=_t(n,7,wt));for(var r=e.length;r--;)Lt(n,e[r]);return n}),zr=["children","className","id","style","useFlyTo","whenReady"],Ir=function(t){return Array.isArray(t)?[t[0],t[1]]:[t.lat,t.lon?t.lon:t.lng]},Sr=function(t){function n(e,o){qt(this,n);var r=Jt(this,t.call(this,e,o));return r.viewport={center:void 0,zoom:void 0},r._updating=!1,r.onViewportChange=function(){var t=r.leafletElement.getCenter();r.viewport={center:t?[t.lat,t.lng]:void 0,zoom:r.leafletElement.getZoom()},r.props.onViewportChange&&!r._updating&&r.props.onViewportChange(r.viewport)},r.onViewportChanged=function(){r.props.onViewportChanged&&!r._updating&&r.props.onViewportChanged(r.viewport)},r.bindContainer=function(t){r.container=t},r.className=e.className,r}return Gt(n,t),n.prototype.getChildContext=function(){return{layerContainer:this.leafletElement,map:this.leafletElement}},n.prototype.createLeafletElement=function(t){var n=t.viewport,o=Zt(t,["viewport"]);return n&&(n.center&&(o.center=n.center),"number"==typeof n.zoom&&(o.zoom=n.zoom)),new e.Map(this.container,o)},n.prototype.updateLeafletElement=function(t,n){this._updating=!0;var o=n.animate,r=n.bounds,i=n.boundsOptions,a=n.center,l=n.className,u=n.maxBounds,p=n.useFlyTo,s=n.viewport,c=n.zoom;if(l!==t.className&&(null!=t.className&&e.DomUtil.removeClass(this.container,t.className),null!=l&&e.DomUtil.addClass(this.container,l)),s&&s!==t.viewport){var f=s.center?s.center:a,h=null==s.zoom?c:s.zoom;!0===p?this.leafletElement.flyTo(f,h,{animate:o}):this.leafletElement.setView(f,h,{animate:o})}else a&&this.shouldUpdateCenter(a,t.center)?!0===p?this.leafletElement.flyTo(a,c,{animate:o}):this.leafletElement.setView(a,c,{animate:o}):"number"==typeof c&&c!==t.zoom&&(null==t.zoom?this.leafletElement.setView(a,c):this.leafletElement.setZoom(c));u&&this.shouldUpdateBounds(u,t.maxBounds)&&this.leafletElement.setMaxBounds(u),r&&(this.shouldUpdateBounds(r,t.bounds)||i!==t.boundsOptions)&&(!0===p?this.leafletElement.flyToBounds(r,i):this.leafletElement.fitBounds(r,i)),this._updating=!1},n.prototype.componentDidMount=function(){var e=Ar(this.props,zr);this.leafletElement=this.createLeafletElement(e),this.leafletElement.on("move",this.onViewportChange),this.leafletElement.on("moveend",this.onViewportChanged),function(t){return void 0===t}(e.bounds)||this.leafletElement.fitBounds(e.bounds,e.boundsOptions),this.props.whenReady&&this.leafletElement.whenReady(this.props.whenReady),t.prototype.componentDidMount.call(this),this.forceUpdate()},n.prototype.componentDidUpdate=function(t){this.updateLeafletElement(t,this.props)},n.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.leafletElement.off("move",this.onViewportChange),this.leafletElement.off("moveend",this.onViewportChanged),this.leafletElement.remove()},n.prototype.shouldUpdateCenter=function(t,e){return!e||(t=Ir(t),e=Ir(e),t[0]!==e[0]||t[1]!==e[1])},n.prototype.shouldUpdateBounds=function(t,n){return!n||!e.latLngBounds(t).equals(e.latLngBounds(n))},n.prototype.render=function(){var t=this.leafletElement?this.props.children:null;return xt.createElement("div",{className:this.className,id:this.props.id,ref:this.bindContainer,style:this.props.style},t)},n}(lr);Sr.propTypes={animate:It.bool,bounds:Rt,boundsOptions:It.object,center:St,children:Ut,className:It.string,id:It.string,maxBounds:Rt,maxZoom:It.number,minZoom:It.number,style:It.object,useFlyTo:It.bool,viewport:kt,whenReady:It.func,zoom:It.number},Sr.childContextTypes={layerContainer:Wt,map:Nt};var Mr=function(t){function n(){return qt(this,n),Jt(this,t.apply(this,arguments))}return Gt(n,t),n.prototype.getChildContext=function(){return{popupContainer:this.leafletElement}},n.prototype.createLeafletElement=function(t){return new e.Marker(t.position,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){e.position!==t.position&&this.leafletElement.setLatLng(e.position),e.icon!==t.icon&&this.leafletElement.setIcon(e.icon),e.zIndexOffset!==t.zIndexOffset&&this.leafletElement.setZIndexOffset(e.zIndexOffset),e.opacity!==t.opacity&&this.leafletElement.setOpacity(e.opacity),e.draggable!==t.draggable&&(!0===e.draggable?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable())},n}(ur);Mr.propTypes={children:Ut,draggable:It.bool,icon:It.instanceOf(e.Icon),opacity:It.number,position:St.isRequired,zIndexOffset:It.number},Mr.childContextTypes={popupContainer:Dt};var Rr=0,Ur=["tile","shadow","overlay","map","marker","tooltip","popup"],Br={position:"absolute",top:0,right:0,bottom:0,left:0},Dr=function(t){function e(){var n,o,r;qt(this,e);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=o=Jt(this,t.call.apply(t,[this].concat(a))),o.state={name:void 0},o.setStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.props,e=t.style,n=t.className,r=o.getPane(o.state.name);r&&(n&&r.classList.add(n),e&&yt(e,function(t,e){r.style[e]=t}))},r=n,Jt(o,r)}return Gt(e,t),e.prototype.getChildContext=function(){return{pane:this.state.name}},e.prototype.componentDidMount=function(){this.createPane(this.props)},e.prototype.componentWillReceiveProps=function(t){if(this.state.name)if(t.name!==this.props.name)this.removePane(),this.createPane(t);else{if(this.props.className&&t.className!==this.props.className){var e=this.getPane();e&&this.props.className&&e.classList.remove(this.props.className)}this.setStyle(t)}},e.prototype.componentWillUnmount=function(){this.removePane()},e.prototype.createPane=function(t){var e=this.context.map,n=t.name||"pane-"+function(t){var e=++Rr;return _(t)+e}();if(e&&e.createPane){(function(t){return-1!==Ur.indexOf(t.replace(/-*pane/gi,""))})(n)||this.getPane(n)||e.createPane(n,this.getParentPane()),this.setState({name:n},this.setStyle)}},e.prototype.removePane=function(){var t=this.state.name;if(t){var e=this.getPane(t);e&&e.remove&&e.remove();var n=this.context.map;n&&n._panes&&(n._panes=Ar(n._panes,t),n._paneRenderers=Ar(n._paneRenderers,t)),this.setState({name:void 0})}},e.prototype.getParentPane=function(){return this.getPane(this.props.pane||this.context.pane)},e.prototype.getPane=function(t){return t?this.context.map.getPane(t):void 0},e.prototype.render=function(){return this.state.name?xt.createElement("div",{style:Br},this.props.children):null},e}(n.Component);Dr.propTypes={name:It.string,children:Ut,map:Nt,className:It.string,style:It.object,pane:It.string},Dr.contextTypes={map:Nt,pane:It.string},Dr.childContextTypes={pane:It.string};var Wr=It.arrayOf(Mt),Nr=function(t){function n(){return qt(this,n),Jt(this,t.apply(this,arguments))}return Gt(n,t),n.prototype.createLeafletElement=function(t){return new e.Polygon(t.positions,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){e.positions!==t.positions&&this.leafletElement.setLatLngs(e.positions),this.setStyleIfChanged(t,e)},n}(sr);Nr.propTypes={children:Ut,positions:It.oneOfType([Mt,Wr,It.arrayOf(Wr)]).isRequired};var kr=function(t){function n(){return qt(this,n),Jt(this,t.apply(this,arguments))}return Gt(n,t),n.prototype.createLeafletElement=function(t){return new e.Polyline(t.positions,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){e.positions!==t.positions&&this.leafletElement.setLatLngs(e.positions),this.setStyleIfChanged(t,e)},n}(sr);kr.propTypes={children:Ut,positions:It.oneOfType([Mt,It.arrayOf(Mt)]).isRequired};var Vr=function(t){function r(){var e,i,a;qt(this,r);for(var l=arguments.length,u=Array(l),p=0;p<l;p++)u[p]=arguments[p];return e=i=Jt(this,t.call.apply(t,[this].concat(u))),i.onPopupOpen=function(t){t.popup===i.leafletElement&&(i.renderPopupContent(),i.props.onOpen&&i.props.onOpen())},i.onPopupClose=function(t){t.popup===i.leafletElement&&(i.removePopupContent(),i.props.onClose&&i.props.onClose())},i.renderPopupContent=function(){null==i.props.children?i.removePopupContent():(o.render(n.Children.only(i.props.children),i.leafletElement._contentNode),i.leafletElement.update(),!1!==i.props.autoPan&&(i.leafletElement._map&&i.leafletElement._map._panAnim&&(i.leafletElement._map._panAnim=void 0),i.leafletElement._adjustPan()))},i.removePopupContent=function(){i.leafletElement._contentNode&&o.unmountComponentAtNode(i.leafletElement._contentNode)},a=e,Jt(i,a)}return Gt(r,t),r.prototype.getOptions=function(e){return $t({},t.prototype.getOptions.call(this,e),{autoPan:!1})},r.prototype.createLeafletElement=function(t){return new e.Popup(this.getOptions(t),this.context.popupContainer)},r.prototype.updateLeafletElement=function(t,e){e.position!==t.position&&this.leafletElement.setLatLng(e.position)},r.prototype.componentWillMount=function(){t.prototype.componentWillMount.call(this),this.leafletElement=this.createLeafletElement(this.props),this.leafletElement.options.autoPan=!1!==this.props.autoPan,this.context.map.on({popupopen:this.onPopupOpen,popupclose:this.onPopupClose})},r.prototype.componentDidMount=function(){var t=this.props.position,e=this.context,n=e.map,o=e.popupContainer,r=this.leafletElement;o?o.bindPopup(r):(t&&r.setLatLng(t),r.openOn(n))},r.prototype.componentDidUpdate=function(t){this.updateLeafletElement(t,this.props),this.leafletElement.isOpen()&&this.renderPopupContent()},r.prototype.componentWillUnmount=function(){this.removePopupContent(),this.context.map.off({popupopen:this.onPopupOpen,popupclose:this.onPopupClose}),this.context.map.removeLayer(this.leafletElement),t.prototype.componentWillUnmount.call(this)},r.prototype.render=function(){return null},r}(lr);Vr.propTypes={children:It.node,onClose:It.func,onOpen:It.func,position:St},Vr.contextTypes={map:Nt,popupContainer:Dt,pane:It.string},Vr.defaultProps={pane:"popupPane"};var qr=function(t){function n(){return qt(this,n),Jt(this,t.apply(this,arguments))}return Gt(n,t),n.prototype.createLeafletElement=function(t){return new e.Rectangle(t.bounds,this.getOptions(t))},n.prototype.updateLeafletElement=function(t,e){e.bounds!==t.bounds&&this.leafletElement.setBounds(e.bounds),this.setStyleIfChanged(t,e)},n}(sr);qr.propTypes={children:Ut,bounds:Rt.isRequired};var Fr=function(t){function n(){return qt(this,n),Jt(this,t.apply(this,arguments))}return Gt(n,t),n.prototype.createLeafletElement=function(t){return new e.Control.Scale(t)},n}(Ht);Fr.propTypes={imperial:It.bool,maxWidth:It.number,metric:It.bool,position:Bt,updateWhenIdle:It.bool};var $r=function(t){function n(){return qt(this,n),Jt(this,t.apply(this,arguments))}return Gt(n,t),n.prototype.createLeafletElement=function(t){return new e.TileLayer(t.url,this.getOptions(t))},n.prototype.updateLeafletElement=function(e,n){t.prototype.updateLeafletElement.call(this,e,n),n.url!==e.url&&this.leafletElement.setUrl(n.url)},n}(dr);$r.propTypes={children:Ut,opacity:It.number,url:It.string.isRequired,zIndex:It.number};var Gr=function(t){function r(){var e,i,a;qt(this,r);for(var l=arguments.length,u=Array(l),p=0;p<l;p++)u[p]=arguments[p];return e=i=Jt(this,t.call.apply(t,[this].concat(u))),i.onTooltipOpen=function(t){t.tooltip===i.leafletElement&&(i.renderTooltipContent(),i.props.onOpen&&i.props.onOpen())},i.onTooltipClose=function(t){t.tooltip===i.leafletElement&&(i.removeTooltipContent(),i.props.onClose&&i.props.onClose())},i.renderTooltipContent=function(){null==i.props.children?i.removeTooltipContent():(o.render(n.Children.only(i.props.children),i.leafletElement._contentNode),i.leafletElement.update())},i.removeTooltipContent=function(){i.leafletElement._contentNode&&o.unmountComponentAtNode(i.leafletElement._contentNode)},a=e,Jt(i,a)}return Gt(r,t),r.prototype.createLeafletElement=function(t){return new e.Tooltip(this.getOptions(t),this.context.popupContainer)},r.prototype.componentWillMount=function(){t.prototype.componentWillMount.call(this),this.leafletElement=this.createLeafletElement(this.props),this.context.popupContainer.on({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose})},r.prototype.componentDidMount=function(){this.context.popupContainer.bindTooltip(this.leafletElement)},r.prototype.componentDidUpdate=function(){this.leafletElement.isOpen()&&this.renderTooltipContent()},r.prototype.componentWillUnmount=function(){var e=this.context.popupContainer;this.removeTooltipContent(),e.off({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose}),e.unbindTooltip(this.leafletElement),t.prototype.componentWillUnmount.call(this)},r.prototype.render=function(){return null},r}(lr);Gr.propTypes={children:It.node,onClose:It.func,onOpen:It.func},Gr.contextTypes={map:Nt,popupContainer:Dt,pane:It.string},Gr.defaultProps={pane:"tooltipPane"};var Zr=function(t){function n(){return qt(this,n),Jt(this,t.apply(this,arguments))}return Gt(n,t),n.prototype.createLeafletElement=function(t){return new e.VideoOverlay(t.url,t.bounds,this.getOptions(t))},n.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),!0===this.props.play&&this.leafletElement.getElement().play()},n.prototype.updateLeafletElement=function(t,n){n.url!==t.url&&this.leafletElement.setUrl(n.url),n.bounds!==t.bounds&&this.leafletElement.setBounds(e.latLngBounds(n.bounds)),n.opacity!==t.opacity&&this.leafletElement.setOpacity(n.opacity),n.zIndex!==t.zIndex&&this.leafletElement.setZIndex(n.zIndex),!0!==n.play||t.play?n.play||!0!==t.play||this.leafletElement.getElement().pause():this.leafletElement.getElement().play()},n}(ur);Zr.propTypes={attribution:It.string,bounds:Rt.isRequired,opacity:It.number,play:It.bool,url:It.oneOfType([It.string,It.arrayOf(It.string),It.instanceOf(HTMLVideoElement)]).isRequired,zIndex:It.number};var Jr=function(t){function n(){return qt(this,n),Jt(this,t.apply(this,arguments))}return Gt(n,t),n.prototype.createLeafletElement=function(t){var n=t.url,o=Zt(t,["url"]);return new e.TileLayer.WMS(n,this.getOptions(o))},n.prototype.updateLeafletElement=function(e,n){t.prototype.updateLeafletElement.call(this,e,n);var o=e.url,r=(e.opacity,e.zIndex,Zt(e,["url","opacity","zIndex"])),i=n.url,a=(n.opacity,n.zIndex,Zt(n,["url","opacity","zIndex"]));i!==o&&this.leafletElement.setUrl(i),it(a,r)||this.leafletElement.setParams(a)},n.prototype.getOptions=function(e){return ft(t.prototype.getOptions.call(this,e),function(t,e,n){return ar.test(n)||(t[n]=e),t},{})},n}(dr);Jr.propTypes={children:Ut,opacity:It.number,url:It.string.isRequired,zIndex:It.number};var Hr=function(t){function n(){return qt(this,n),Jt(this,t.apply(this,arguments))}return Gt(n,t),n.prototype.createLeafletElement=function(t){return new e.Control.Zoom(t)},n}(Ht);Hr.propTypes={position:Bt,zoomInText:It.string,zoomInTitle:It.string,zoomOutText:It.string,zoomOutTitle:It.string},t.PropTypes=Vt,t.AttributionControl=Yt,t.Circle=cr,t.CircleMarker=fr,t.FeatureGroup=hr,t.GeoJSON=yr,t.GridLayer=dr,t.ImageOverlay=mr,t.LayerGroup=vr,t.LayersControl=_r,t.Map=Sr,t.MapComponent=lr,t.MapControl=Ht,t.MapLayer=ur,t.Marker=Mr,t.Pane=Dr,t.Path=sr,t.Polygon=Nr,t.Polyline=kr,t.Popup=Vr,t.Rectangle=qr,t.ScaleControl=Fr,t.TileLayer=$r,t.Tooltip=Gr,t.VideoOverlay=Zr,t.WMSTileLayer=Jr,t.ZoomControl=Hr,Object.defineProperty(t,"__esModule",{value:!0})});
